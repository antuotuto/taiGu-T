function Line(){this.MaxLine=550,this.MinLine=210,this.m={x:220,y:320},this.l={x:220,y:320},this.cas=$("#canvas")[0],this.ctx=this.cas.getContext("2d"),this.cas.width=window.innerWidth,this.cas.height=window.innerHeight,this.ctx.strokeStyle="#90D0DF",this.ctx.lineWidth=50,this.ctx.lineCap="round",this.ctx.lineJoin="round",this._init()}Line.prototype.reset=function(){var e=this;e.res=!1,e.ctx.clearRect(0,0,window.innerWidth,window.innerHeight)},Line.prototype._init=function(){var e=this;e.m={x:210,y:320},e.l={x:210,y:320},e.rFang=!1,e.once=0,e.res=!0,e.num=7,e.rSpeed=.05,e.yx=100,e.r=100,e.beginCur=1.5,e.closeCur=1.5,e.rafLine()},Line.prototype.rafLine=function(){var e=this;e.l.x+=e.num,e.ctx.beginPath(),e.ctx.moveTo(e.m.x,e.m.y),e.ctx.lineTo(e.l.x,e.l.y),e.ctx.closePath(),e.ctx.stroke(),1==e.res?requestAnimationFrame(function(){if(e.l.x<e.MaxLine&&e.l.x>e.MinLine)e.rafLine();else{if(e.once+=1,e.once>3)return cancelAnimationFrame(e.rafLine),void cancelAnimationFrame(e.rafCur);cancelAnimationFrame(e.rafLine),e.rSpeed<0?e.rFang=!0:e.rFang=!1,e.rafCur()}}):e.ctx.clearRect(0,0,window.innerWidth,window.innerHeight)},Line.prototype.rafCur=function(){var e=this;e.closeCur+=e.rSpeed,e.ctx.beginPath(),e.ctx.arc(e.l.x,e.l.y+e.yx,e.r,1.5*Math.PI,e.closeCur*Math.PI,e.rFang),e.ctx.stroke(),1==e.res?requestAnimationFrame(function(){e.closeCur<2.5&&e.closeCur>.5?e.rafCur():(cancelAnimationFrame(e.rafCur),e.rSpeed*=-1,e.closeCur=1.5,e.m.y=e.l.y+=200,e.m.x=e.l.x,e.num*=-1,e.rafLine())}):e.ctx.clearRect(0,0,window.innerWidth,window.innerHeight)};var line=new Line;line.reset();var Swiper=new Swiper(".swiper-container",{direction:"vertical",loop:!1,mousewheelControl:!0,speed:400,initialSlide:0,onInit:function(e){$(".slide-index .animated").addClass("active")},onSlideChangeEnd:function(e){0==e.activeIndex&&($(".slide-forth .animated").removeClass("active"),$(".slide-second .animated").removeClass("active"),$(".slide-index .animated").addClass("active"),line.reset()),1==e.activeIndex&&($(".slide-index .animated").removeClass("active"),$(".slide-third .animated").removeClass("active"),$(".slide-second .animated").addClass("active"),line.reset()),2==e.activeIndex&&($(".slide-second .animated").removeClass("active"),$(".slide-forth .animated").removeClass("active"),$(".slide-third .animated").addClass("active"),line.reset()),3==e.activeIndex&&($(".slide-third .animated").removeClass("active"),$(".slide-fifth .animated").removeClass("active"),$(".slide-forth .animated").addClass("active"),line._init()),4==e.activeIndex&&($(".slide-index .animated").removeClass("active"),$(".slide-forth .animated").removeClass("active"),$(".slide-fifth .animated").addClass("active"),line.reset())}});